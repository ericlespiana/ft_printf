# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: erpiana <erpiana@student.42.fr>            +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/11/04 21:28:19 by erpiana           #+#    #+#              #
#    Updated: 2024/02/20 01:16:59 by erpiana          ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

#******************************************************************************#
#                                   PATH                                       #
#******************************************************************************#

SRCS_PATH	:=	src/
INCS		:=	include/
CPPFLAGS	:=	$(addprefix -I, $(INCS)) -MP

#******************************************************************************#
#                                   FILES                                      #
#******************************************************************************#

SRC			:=	$(addprefix $(SRCS_PATH), ft_print_format.c ft_printf.c ft_put_un_nbr.c ft_putchar.c ft_puthexa.c \
				ft_putnumber.c ft_putstr.c ft_strchr.c ft_strlen.c)
OBJS 		+=	$(addprefix obj/, $(notdir $(SRC:.c=.o)))
NAME 		:=	libftprintf.a

#******************************************************************************#
#                                 COMPILATION                                  #
#******************************************************************************#

CC			:=	cc
CFLAGS		:=	-Wall -Wextra -Werror

#******************************************************************************#
#                                 BASH COMMANDS                                #
#******************************************************************************#

RM			:=	rm -rf

#******************************************************************************#
#                                   TARGETS                                    #
#******************************************************************************#

all: $(NAME)

$(NAME): obj $(OBJS)
	
obj:
	mkdir -p obj

obj/%.o: $(SRCS_PATH)%.c
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $< -o $@
	echo "Compilando $(notdir $<)"
	ar -rcs $(NAME) $@

clean:
	$(RM) obj

fclean: clean
	$(RM) $(NAME)

re: fclean all

.PHONY: all clean fclean re

.DEFAULT_GOAL := all

.SILENT: